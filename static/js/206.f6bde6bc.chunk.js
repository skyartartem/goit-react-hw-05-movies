"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[206],{206:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r,a=n(861),u=n(439),c=n(687),i=n.n(c),o=n(791),s=n(168),l=n(934).Z.form(r||(r=(0,s.Z)(["\n  margin-top: 10px;\n  margin-left: 10px;\n"]))),h=n(184),f=function(e){var t=e.handleSubmit,n=(0,o.useState)(""),r=(0,u.Z)(n,2),a=r[0],c=r[1];return(0,h.jsxs)(l,{onSubmit:function(e){if(e.preventDefault(),!a)return alert("Enter text for search.");t(a),c("")},children:[(0,h.jsx)("input",{value:a,onChange:function(e){c(e.currentTarget.value)},name:"search",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie"}),(0,h.jsx)("button",{type:"submit",children:"search"})]})},p=n(87),d=n(689),v=n(243),m="https://api.themoviedb.org/3/",x="e0c08addb9dce27b15dd25ed60160779";function g(e){return b.apply(this,arguments)}function b(){return b=(0,a.Z)(i().mark((function e(t){var n,r,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,e.next=3,v.Z.get("".concat(m,"search/movie?api_key=").concat(x,"&language=en-US&page=").concat(n,"&include_adult=true&query=").concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}var j=function(){var e,t=(0,d.TH)(),n=(0,p.lr)(),r=(0,u.Z)(n,2),c=r[0],s=r[1],l=null!==(e=c.get("query"))&&void 0!==e?e:"",v=(0,o.useState)(null),m=(0,u.Z)(v,2),x=m[0],b=m[1],j=(0,o.useState)([]),S=(0,u.Z)(j,2),Z=S[0],_=S[1],w=(0,o.useState)(!1),y=(0,u.Z)(w,2),k=y[0],C=y[1];(0,o.useEffect)((function(){l&&q(l)}),[l]);var q=function(){var e=(0,a.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,g(t);case 4:n=e.sent,_(n.results),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),b(e.t0);case 12:return e.prev=12,C(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsxs)("div",{children:[(0,h.jsx)(f,{handleSubmit:function(e){s(""!==e?{query:e}:{})}}),k&&(0,h.jsx)("div",{children:"loading..."}),(0,h.jsx)("ul",{children:Z.map((function(e){return(0,h.jsx)("li",{children:(0,h.jsx)(p.rU,{to:"".concat(e.id),state:{from:t},children:e.title})},e.id)}))}),x&&(0,h.jsx)("h2",{children:"Somethig goes wrong..."})]})}}}]);
//# sourceMappingURL=206.f6bde6bc.chunk.js.map